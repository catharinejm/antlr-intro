#!/usr/bin/env bash

set -e

export CLASSPATH=`lein classpath`

case "$1" in
    generate)
        java org.antlr.Tool src/java/antlr_intro/grammars/Expr.g
        ;;
    compile)
        find src/java -name \*.java -exec javac -d parslex {} \+
        ;;
    clean)
        rm -rf parslex/*
        ;;
    *)
        echo "Usage: $0 (generate|compile|clean)"
        ;;
esac
